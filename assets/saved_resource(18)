!function(m,o,t,e,n){try{if("string"==undefined||"string"==undefined||"string"==undefined||typeof n==undefined)return;if("string"!=typeof n)return;var r=function(){this.constant={COOKIE_KEY_O2_ID:"___o2u_o2id",COOKIE_KEY_O2_ID_LIFETIME:31536e3,COOKIE_KEY_O3_ID:"___o2u_o3id",COOKIE_KEY_TD_CLIENT_ID:"_td",RESPONSE_KEY_O2_ID:"o2Id",TD_TABLE_TRASH_LOG:"trash_log",TIMEOUT_API_REQUEST:200,WAIT_TIME_API_RESPONSE:100,UNSUPPORTED_BROWSER:["ie6","ie7","ie8"]},this.property={id:e,domain:t,isCookieEnabled:1}};if(r.prototype.convertStringToObject=function(t){try{return new Function("return "+t)()}catch(e){return{}}},r.prototype.logging=function(t){try{var e="string"==typeof this.property.domain?this.property.domain:"",n="string"==typeof t||"error"==typeof t?t:"";return("#u5Sq77frGuy475KLcXeYRMCQ7DyW3LF4"==location.hash||null!=e.match("^localhost")||null!=e.match("^test.")||null!=e.match("^testing.")||null!=e.match("^development."))&&m.console&&m.console.log&&(!n||console.log(n),!t.message||console.log(t.message),!t.stack||console.log(t.stack)),!0}catch(r){return!1}},r.prototype.setBrowser=function(){try{this.logging("exec setBrowser");var t=m.navigator.userAgent.toLowerCase(),e=m.navigator.appVersion.toLowerCase(),n="unknown";-1!=t.indexOf("msie")?n=-1!=e.indexOf("msie 6.")?"ie6":-1!=e.indexOf("msie 7.")?"ie7":-1!=e.indexOf("msie 8.")?"ie8":-1!=e.indexOf("msie 9.")?"ie9":-1!=e.indexOf("msie 10.")?"ie10":"ie":-1!=t.indexOf("trident/7")?n="ie11":-1!=t.indexOf("chrome")?n="chrome":-1!=t.indexOf("safari")?n="safari":-1!=t.indexOf("opera")?n="opera":-1!=t.indexOf("firefox")?n="firefox":-1!=t.indexOf("edge")&&(n="edge"),this.property.browser=n}catch(r){this.property.browser=""}return this},r.prototype.isSupportedBrowser=function(){try{if(this.logging("exec isSupportedBrowser"),"undefined"==typeof this.property.browser||""==this.property.browser)throw new Error("not set browser name");if(-1!=this.constant.UNSUPPORTED_BROWSER.indexOf(this.property.browser))throw new Error(this.property.browser+" is unsupported browser");return!0}catch(t){return this.logging(t),!1}},r.prototype.factoryTdInstance=function(t){try{if(this.logging("exec factoryTdInstance"),"object"!=typeof t)throw new Error("$config is not object");if("string"!=typeof t.tdHost)throw new Error("$config.host is not object");if("string"!=typeof t.tdDatabase)throw new Error("$config.database is not object");if("string"!=typeof t.tdApikey)throw new Error("$config.writeKey is not object");var e=new O2uTreasure({host:t.tdHost,database:t.tdDatabase,writeKey:t.tdApikey});return e.set("$global","td_global_id","td_global_id"),e}catch(n){return this.logging(n),null}},r.prototype.loadScript=function(t,e){try{if(this.logging("exec loadScript : "+t),"string"!=typeof t)throw new Error("invalid argument endpoint");if("boolean"!=typeof e)throw new Error("invalid argument isAsync");var n=document.createElement("script");return n.src=null==t.match("^(http://|https://|//)")?this.getProtocol()+"//"+t:t,e&&"undefined"!=typeof n.async&&(n.async=!0),document.body.appendChild(n),!0}catch(r){return this.logging(r),!1}},r.prototype.setCookie=function(t,e,n,r,o,i){try{if(this.logging("exec setCookie"),"string"!=typeof t)throw new Error("argument $k is not string");if("string"!=typeof e&&"number"!=typeof e)throw new Error("argument $v is not string, number");if("string"!=typeof n)throw new Error("argument $domain is not string");if("string"!=typeof r)throw new Error("argument $path is not string");if("number"!=typeof o)throw new Error("argument $lifetime is not number");if("string"!=typeof i)throw new Error("argument $secure is not string");if(0==this.property.isCookieEnabled)return this;var c=new Date((new Date).getTime()+o);return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; expires="+c+(""!=n?"; domain="+n:"")+(""!=r?"; path="+r:"")+(""!=i?"; secure":""),!0}catch(a){return this.logging(a),!1}},r.prototype.getCookie=function(t){try{if(this.logging("exec getCookie"),0==this.property.isCookieEnabled)return"";if("string"!=typeof t&&""!=t)throw new Error("invalid argument $k");return regex={search:new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\="),extract:new RegExp("(?:^|.*;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*")},regex.search.test(document.cookie)?decodeURIComponent(document.cookie.replace(regex.extract,"$1")):""}catch(e){return this.logging(e),""}},r.prototype.deleteCookie=function(t,e,n){try{if(this.logging("exec deleteCookie"),0==this.property.isCookieEnabled)return!1;e=void 0!==e?e:location.hostname,n=void 0!==n?n:"";if("string"!=typeof t&&""!=t)throw new Error("invalid argument $k");if("string"!=typeof e&&""!=t)throw new Error("argument $host is not string");if("string"!=typeof n&&""!=t)throw new Error("argument $path is not string");return""!=n&&(document.cookie=encodeURIComponent(t)+"=; max-age=0; path="+n+"; domain="+e,document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path="+n+"; domain="+e),""==n&&(document.cookie=encodeURIComponent(t)+"=; max-age=0; domain="+e,document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain="+e),this}catch(r){return this.logging(r),!1}},r.prototype.setCookieStatus=function(){try{return this.logging("exec setCookieStatus"),0==this.property.isCookieEnabled?!1:(this.setCookie("_____write_test_","success",location.hostname,"/",60,""),"success"!=this.getCookie("_____write_test_")?(this.property.isCookieEnabled=0,!1):(this.deleteCookie("_____write_test_",location.hostname,"/"),!0))}catch(t){return this.logging(t),!1}},r.prototype.execGetRequest=function(t,e){try{var n,r=!1;if("function"!=typeof e&&(e=function(t){}),"undefined"==typeof m.XDomainRequest||"ie8"!=this.property.browser&&"ie9"!=this.property.browser?n=m.XMLHttpRequest?new XMLHttpRequest:m.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null:(n=new XDomainRequest,r=!0),null==n)throw new Error("browser is not support to ajax request");return n.open("GET",t,!0),n.timeout=this.constant.TIMEOUT_API_REQUEST,r?(n.onload=function(){e({status:200,url:t,type:"",text:n.responseText})},setTimeout(function(){n.send()},0)):(n.addEventListener("loadend",function(){e({status:n.status,url:n.responseURL,type:n.responseType,text:n.responseText})}),n.send()),!0}catch(o){return this.logging(o),!1}},tracking=new r,n="object"==typeof tracking.convertStringToObject(n)?tracking.convertStringToObject(n):{},tracking.property.optout="undefined"!=typeof n.optout?n.optout:"",tracking.property.siteId="undefined"!=typeof n.site&&"undefined"!=typeof n.site.siteId?n.site.siteId:"",tracking.property.clientId="undefined"!=typeof n.site&&"undefined"!=typeof n.site.clientId?n.site.clientId:"",tracking.property.o3id="undefined"!=typeof n.o3Id?n.o3Id:"",tracking.property.imApiEndpoint="undefined"!=typeof n.imApiEndpoint?n.imApiEndpoint:"",tracking.property.tagType="undefined"!=typeof n.site&&"undefined"!=typeof n.site.tagType?n.site.tagType:"",tracking.property.scriptName="undefined"!=typeof n.site&&"undefined"!=typeof n.site.scriptName?n.site.scriptName:"",tracking.property.customParameter="undefined"!=typeof n.customParameter&&"object"==typeof n.customParameter?n.customParameter:{},tracking.property.tdConfig={tdApikey:"undefined"!=typeof n.site&&"undefined"!=typeof n.site.tdApikey?n.site.tdApikey:"",tdHost:"undefined"!=typeof n.site&&"undefined"!=typeof n.site.tdHost?n.site.tdHost:"",tdDatabase:"undefined"!=typeof n.site&&"undefined"!=typeof n.site.tdDatabase?n.site.tdDatabase:"",tdTable:"undefined"!=typeof n.site&&"undefined"!=typeof n.site.tdTable?n.site.tdTable:""},""==tracking.property.imApiEndpoint)return;if("optout"==tracking.property.optout)return tracking.logging("is optout browser");if(tracking.setCookieStatus(),tracking.setBrowser(),!tracking.isSupportedBrowser())return tracking.logging("not supported browser");!function(n){function r(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var o={};r.m=n,r.c=o,r.p="",r(0)}([function(t,e,n){var r=n(1),o=n(59);n(65)(r,"O2uTreasure"),o.O2uTreasure=r},function(t,e,n){function r(t){return this instanceof r?(this.init(t),this):new r(t)}var o=n(2),i=n(8),c=n(54),a=n(55),s=n(56);r.prototype.init=function(t){for(var e in this.configure(t),r.Plugins)r.Plugins.hasOwnProperty(e)&&r.Plugins[e].configure.call(this,t)},r.version=r.prototype.version=a,r.prototype.log=function(){for(var t=["[@GLOBAL]"],e=0,n=arguments.length-1;e<=n;e++)t.push(arguments[e]);"undefined"!=typeof console&&this.client.logging&&console.log.apply(console,t)},r.prototype.configure=c.configure,r.prototype.set=c.set,r.prototype.get=c.get,r.prototype.ready=n(57),r.prototype.applyProperties=o.applyProperties,r.prototype.addRecord=o.addRecord,r.prototype._sendRecord=o._sendRecord,r.prototype.getCookie=s.getItem,r.prototype._configurator=c,r.Plugins={Clicks:n(58),GlobalID:n(61),Personalization:n(62),Track:n(63)},i.forIn(r.Plugins,function(t){i.forIn(t,function(t,e){r.prototype[e]||(r.prototype[e]=t)})}),t.exports=r},function(t,e,n){function i(t,e){c(r.isString(t),"Must provide a table"),c(/^[a-z0-9_]{3,255}$/.test(t),"Table must be between 3 and 255 characters and must consist only of lower case letters, numbers, and _"),c(r.isObject(e),"Must provide a record")}var c=n(3).invariant,a=n(3).noop,s=n(4),r=n(8),u=n(49);e._sendRecord=function(t,n,r){n=n||a,r=r||a,c("jsonp"===t.type,"Request type "+t.type+" not supported");var e=["api_key="+encodeURIComponent(t.apikey),"modified="+encodeURIComponent((new Date).getTime()),"data="+encodeURIComponent(u(t.record))];t.time&&e.push("time="+encodeURIComponent(t.time));var o=t.url+"?"+e.join("&");s(o,{prefix:"TreasureJSONPCallback",timeout:1e4},function(t,e){return t?r(t):n(e)})},e.applyProperties=function(t,e){return r.assign({},this.get("$global"),this.get(t),e)},e.addRecord=function(t,e,n,r){i(t,e);var o={apikey:this.client.writeKey,record:this.applyProperties(t,e),time:null,type:this.client.requestType,url:this.client.endpoint+this.client.database+"/"+t};o.record.time&&(o.time=o.record.time),this.client.development?this.log("addRecord",o):this._sendRecord(o,n,r)},e._validateRecord=i},function(t,e){t.exports={disposable:function n(t){var e=!1;return function(){e||(e=!0,t())}},invariant:function r(t,e){if(!t)throw new Error(e)},noop:function o(){}}},function(t,e,n){function d(){}var g=n(5)("jsonp");t.exports=function y(t,e,n){function r(){o.parentNode&&o.parentNode.removeChild(o),m[a]=d,i&&clearTimeout(i)}"function"==typeof e&&(n=e,e={}),e||(e={});var o,i,c=e.prefix||"__jp",a=e.name||c+h++,s=e.param||"callback",u=null!=e.timeout?e.timeout:6e4,f=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head;return u&&(i=setTimeout(function(){r(),n&&n(new Error("Timeout"))},u)),m[a]=function(t){g("jsonp got",t),r(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+s+"="+f(a)).replace("?&","?"),g('jsonp req "%s"',t),(o=document.createElement("script")).src=t,l.parentNode.insertBefore(o,l),function p(){m[a]&&r()}};var h=0},function(t,i,e){function n(){var t;try{t=r.debug}catch(i){}return t}var r;(i=t.exports=e(6)).log=function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},i.formatArgs=function c(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+i.humanize(this.diff),!e)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,n),t},i.save=function a(t){try{null==t?r.removeItem("debug"):r.debug=t}catch(i){}},i.load=n,i.useColors=function s(){return"WebkitAppearance"in document.documentElement.style||m.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},r="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return m.localStorage}catch(t){}}(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],i.formatters.j=function(t){return JSON.stringify(t)},i.enable(n())},function(t,a,e){(a=t.exports=function o(t){function e(){}function r(){var o=r,t=+new Date,e=t-(s||t);o.diff=e,o.prev=s,o.curr=t,s=t,null==o.useColors&&(o.useColors=a.useColors()),null==o.color&&o.useColors&&(o.color=function n(){return a.colors[u++%a.colors.length]}());var i=Array.prototype.slice.call(arguments);i[0]=a.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var c=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,e){if("%%"===t)return t;c++;var n=a.formatters[e];if("function"==typeof n){var r=i[c];t=n.call(o,r),i.splice(c,1),c--}return t}),"function"==typeof a.formatArgs&&(i=a.formatArgs.apply(o,i)),(r.log||a.log||console.log.bind(console)).apply(o,i)}r.enabled=!(e.enabled=!1);var n=a.enabled(t)?r:e;return n.namespace=t,n}).coerce=function n(t){return t instanceof Error?t.stack||t.message:t},a.disable=function r(){a.enable("")},a.enable=function i(t){a.save(t);for(var e=(t||"").split(/[\s,]+/),n=e.length,r=0;r<n;r++)e[r]&&("-"===(t=e[r].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function c(t){var e,n;for(e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=e(7),a.names=[],a.skips=[],a.formatters={};var s,u=0},function(t,e){function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var c=36e5,a=864e5;t.exports=function(t,e){return e=e||{},"string"==typeof t?function r(t){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}(t):e["long"]?function n(t){return i(t,a,"day")||i(t,c,"hour")||i(t,6e4,"minute")||i(t,1e3,"second")||t+" ms"}(t):function o(t){return a<=t?Math.round(t/a)+"d":c<=t?Math.round(t/c)+"h":6e4<=t?Math.round(t/6e4)+"m":1e3<=t?Math.round(t/1e3)+"s":t+"ms"}(t)}},function(t,e,n){t.exports={forEach:n(9),isNumber:n(38),isObject:n(16),isString:n(17),isArray:n(31),keys:n(20),assign:n(39),forIn:n(46),noop:n(48)}},function(t,e,n){var r=n(10),o=n(11),i=n(35)(r,o);t.exports=i},function(t,e){t.exports=function o(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(12),o=n(34)(r);t.exports=o},function(t,e,n){var r=n(13),o=n(20);t.exports=function i(t,e){return r(t,e,o)}},function(t,e,n){var r=n(14)();t.exports=r},function(t,e,n){var u=n(15);t.exports=function r(s){return function(t,e,n){for(var r=u(t),o=n(t),i=o.length,c=s?i:-1;s?c--:++c<i;){var a=o[c];if(!1===e(r[a],a,r))break}return t}}},function(t,e,n){var o=n(16),i=n(17),c=n(19);t.exports=function a(t){if(c.unindexedChars&&i(t)){for(var e=-1,n=t.length,r=Object(t);++e<n;)r[e]=t.charAt(e);return r}return o(t)?t:Object(t)}},function(t,e){t.exports=function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(18),o=Object.prototype.toString;t.exports=function i(t){return"string"==typeof t||r(t)&&"[object String]"==o.call(t)}},function(t,e){t.exports=function n(t){return!!t&&"object"==typeof t}},function(t,e){var n=Array.prototype,i=Error.prototype,c=Object.prototype.propertyIsEnumerable,a=n.splice,s={};!function(t){var e=function(){this.x=1},n={0:1,length:1},r=[];for(var o in e.prototype={valueOf:1,y:1},new e)r.push(o);s.enumErrorProps=c.call(i,"message")||c.call(i,"name"),s.enumPrototypes=c.call(e,"prototype"),s.nonEnumShadows=!/valueOf/.test(r),s.ownLast="x"!=r[0],s.spliceObjects=(a.call(n,0,1),!n[0]),s.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),t.exports=s},function(t,e,n){var r=n(21),o=n(25),i=n(16),c=n(29),a=n(19),s=r(Object,"keys"),u=s?function(t){var e=null==t?undefined:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:o(t))?c(t):i(t)?s(t):[]}:c;t.exports=u},function(t,e,n){var r=n(22);t.exports=function o(t,e){var n=null==t?undefined:t[e];return r(n)?n:undefined}},function(t,e,n){var r=n(23),o=n(24),i=n(18),c=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,f=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function l(t){return null!=t&&(r(t)?f.test(s.call(t)):i(t)&&(o(t)?f:c).test(t))}},function(t,e,n){var r=n(16),o=Object.prototype.toString;t.exports=function i(t){return r(t)&&"[object Function]"==o.call(t)}},function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();t.exports=n},function(t,e,n){var r=n(26),o=n(28);t.exports=function i(t){return null!=t&&o(r(t))}},function(t,e,n){var r=n(27)("length");t.exports=r},function(t,e,n){var r=n(15);t.exports=function o(e){return function(t){return null==t?undefined:r(t)[e]}}},function(t,e){t.exports=function n(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},function(t,e,n){var s=n(30),u=n(31),f=n(32),l=n(28),p=n(17),d=n(33),g=Object.prototype.hasOwnProperty;t.exports=function h(t){for(var e=d(t),n=e.length,r=n&&t.length,o=!!r&&l(r)&&(u(t)||s(t)||p(t)),i=-1,c=[];++i<n;){var a=e[i];(o&&f(a,r)||g.call(t,a))&&c.push(a)}return c}},function(t,e,n){var r=n(25),o=n(18),i=Object.prototype,c=i.hasOwnProperty,a=i.propertyIsEnumerable;t.exports=function s(t){return o(t)&&r(t)&&c.call(t,"callee")&&!a.call(t,"callee")}},function(t,e,n){var r=n(21),o=n(28),i=n(18),c=Object.prototype.toString,a=r(Array,"isArray")||function(t){return i(t)&&o(t.length)&&"[object Array]"==c.call(t)};t.exports=a},function(t,e){var n=/^\d+$/;t.exports=function r(t,e){return e=null==e?9007199254740991:e,-1<(t="number"==typeof t||n.test(t)?+t:-1)&&t%1==0&&t<e}},function(t,e,n){var r=n(10),g=n(30),h=n(31),y=n(23),m=n(32),v=n(28),b=n(16),x=n(17),_=n(19),w="[object Error]",E="[object Object]",k="[object String]",O=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],C=Error.prototype,I=Object.prototype,j=String.prototype,T=I.hasOwnProperty,S=I.toString,A={};A["[object Array]"]=A["[object Date]"]=A["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},A["[object Boolean]"]=A[k]={constructor:!0,toString:!0,valueOf:!0},A[w]=A["[object Function]"]=A["[object RegExp]"]={constructor:!0,toString:!0},A[E]={constructor:!0},r(O,function(t){for(var e in A)if(T.call(A,e)){var n=A[e];n[t]=T.call(n,t)}}),t.exports=function N(t){if(null==t)return[];b(t)||(t=Object(t));var e=t.length;e=e&&v(e)&&(h(t)||g(t)||x(t))&&e||0;for(var n=t.constructor,r=-1,o=y(n)&&n.prototype||I,i=o===t,c=Array(e),a=0<e,s=_.enumErrorProps&&(t===C||t instanceof Error),u=_.enumPrototypes&&y(t);++r<e;)c[r]=r+"";for(var f in t)u&&"prototype"==f||s&&("message"==f||"name"==f)||a&&m(f,e)||"constructor"==f&&(i||!T.call(t,f))||c.push(f);if(_.nonEnumShadows&&t!==I){var l=t===j?k:t===C?w:S.call(t),p=A[l]||A[E];for(l==E&&(o=I),e=O.length;e--;){var d=p[f=O[e]];i&&d||(d?!T.call(t,f):t[f]===o[f])||c.push(f)}}return c}},function(t,e,n){var a=n(26),s=n(28),u=n(15);t.exports=function r(i,c){return function(t,e){var n=t?a(t):0;if(!s(n))return i(t,e);for(var r=c?n:-1,o=u(t);(c?r--:++r<n)&&!1!==e(o[r],r,o););return t}}},function(t,e,n){var i=n(36),c=n(31);t.exports=function a(r,o){return function(t,e,n){return"function"==typeof e&&n===undefined&&c(t)?r(t,e):o(t,i(e,n,3))}}},function(t,e,n){var r=n(37);t.exports=function o(i,c,t){if("function"!=typeof i)return r;if(c===undefined)return i;switch(t){case 1:return function(t){return i.call(c,t)};case 3:return function(t,e,n){return i.call(c,t,e,n)};case 4:return function(t,e,n,r){return i.call(c,t,e,n,r)};case 5:return function(t,e,n,r,o){return i.call(c,t,e,n,r,o)}}return function(){return i.apply(c,arguments)}}},function(t,e){t.exports=function n(t){return t}},function(t,e,n){var r=n(18),o=Object.prototype.toString;t.exports=function i(t){return"number"==typeof t||r(t)&&"[object Number]"==o.call(t)}},function(t,e,n){var r=n(40),o=n(41),i=n(43)(function(t,e,n){return n?r(t,e,n):o(t,e)});t.exports=i},function(t,e,n){var u=n(20);t.exports=function f(t,e,n){for(var r=-1,o=u(e),i=o.length;++r<i;){var c=o[r],a=t[c],s=n(a,e[c],c,t,e);(s==s?s===a:a!=a)&&(a!==undefined||c in t)||(t[c]=s)}return t}},function(t,e,n){var r=n(42),o=n(20);t.exports=function i(t,e){return null==e?t:r(e,o(e),t)}},function(t,e){t.exports=function c(t,e,n){n||(n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}},function(t,e,n){var u=n(36),f=n(44),r=n(45);t.exports=function o(s){return r(function(t,e){var n=-1,r=null==t?0:e.length,o=2<r?e[r-2]:undefined,i=2<r?e[2]:undefined,c=1<r?e[r-1]:undefined;for("function"==typeof o?(o=u(o,c,5),r-=2):r-=(o="function"==typeof c?c:undefined)?1:0,i&&f(e[0],e[1],i)&&(o=r<3?undefined:o,r=1);++n<r;){var a=e[n];a&&s(t,a,o)}return t})}},function(t,e,n){var i=n(25),c=n(32),a=n(16);t.exports=function s(t,e,n){if(!a(n))return!1;var r=typeof e;if("number"==r?i(n)&&c(e,n.length):"string"==r&&e in n){var o=n[e];return t==t?t===o:o!=o}return!1}},function(t,e){var a=Math.max;t.exports=function n(i,c){if("function"!=typeof i)throw new TypeError("Expected a function");return c=a(c===undefined?i.length-1:+c||0,0),function(){for(var t=arguments,e=-1,n=a(t.length-c,0),r=Array(n);++e<n;)r[e]=t[c+e];switch(c){case 0:return i.call(this,r);case 1:return i.call(this,t[0],r);case 2:return i.call(this,t[0],t[1],r)}var o=Array(c+1);for(e=-1;++e<c;)o[e]=t[e];return o[c]=r,i.apply(this,o)}}},function(t,e,n){var r=n(13),o=n(47)(r);t.exports=o},function(t,e,n){var o=n(36),i=n(33);t.exports=function c(r){return function(t,e,n){return"function"==typeof e&&n===undefined||(e=o(e,n,3)),r(t,e,i)}}},function(t,e){t.exports=function n(){}},function(t,e,n){var r=n(50),o=n(53);t.exports=function(t){return o(r.stringify(t))}},function(t,u,f){var l;(function(a,s){(function(){function D(t,s){function u(t){if(u[t]!==C)return u[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=u("json-stringify")&&u("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var o=s.stringify,i="function"==typeof o&&g;if(i){(n=function(){return 1}).toJSON=n;try{i="0"===o(0)&&"0"===o(new f)&&'""'==o(new l)&&o(I)===C&&o(C)===C&&o()===C&&"1"===o(n)&&"[1]"==o([n])&&"[null]"==o([C])&&"null"==o(null)&&"[null,null,null]"==o([C,I,null])&&o({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===o(null,n)&&"[\n 1,\n 2\n]"==o([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==o(new p(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==o(new p(864e13))&&'"-000001-01-01T00:00:00.000Z"'==o(new p(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==o(new p(-1))}catch(d){i=!1}}e=i}if("json-parse"==t){var c=s.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){var a=5==(n=c(r)).a.length&&1===n.a[0];if(a){try{a=!c('"\t"')}catch(d){}if(a)try{a=1!==c("01")}catch(d){}if(a)try{a=1!==c("1.")}catch(d){}}}}catch(d){a=!1}e=a}}return u[t]=!!e}t||(t=L.Object()),s||(s=L.Object());var f=t.Number||L.Number,l=t.String||L.String,e=t.Object||L.Object,p=t.Date||L.Date,n=t.SyntaxError||L.SyntaxError,E=t.TypeError||L.TypeError,r=t.Math||L.Math,d=t.JSON||L.JSON;"object"==typeof d&&d&&(s.stringify=d.stringify,s.parse=d.parse);var k,O,C,o=e.prototype,I=o.toString,g=new p(-0xc782b5b800cec);try{g=-109252==g.getUTCFullYear()&&0===g.getUTCMonth()&&1===g.getUTCDate()&&10==g.getUTCHours()&&37==g.getUTCMinutes()&&6==g.getUTCSeconds()&&708==g.getUTCMilliseconds()}catch(P){}if(!u("json")){var a=u("bug-string-char-index");if(!g)var j=r.floor,i=[0,31,59,90,120,151,181,212,243,273,304,334],T=function(t,e){return i[e]+365*(t-1970)+j((t-1969+(e=+(1<e)))/4)-j((t-1901+e)/100)+j((t-1601+e)/400)};if((k=o.hasOwnProperty)||(k=function(t){var n,e={};return k=(e.__proto__=null,e.__proto__={toString:1},e).toString!=I?function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(n=e.constructor,function(t){var e=(this.constructor||n).prototype;return t in this&&!(t in e&&this[t]===e[t])}),e=null,k.call(this,t)}),O=function(t,e){var n,c,r,o=0;for(r in(n=function(){this.valueOf=0}).prototype.valueOf=0,c=new n)k.call(c,r)&&o++;return n=c=null,(O=o?2==o?function(t,e){var n,r={},o="[object Function]"==I.call(t);for(n in t)o&&"prototype"==n||k.call(r,n)||!(r[n]=1)||!k.call(t,n)||e(n)}:function(t,e){var n,r,o="[object Function]"==I.call(t);for(n in t)o&&"prototype"==n||!k.call(t,n)||(r="constructor"===n)||e(n);(r||k.call(t,n="constructor"))&&e(n)}:(c=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(t,e){var n,r,o="[object Function]"==I.call(t),i=!o&&"function"!=typeof t.constructor&&$[typeof t.hasOwnProperty]&&t.hasOwnProperty||k;for(n in t)o&&"prototype"==n||!i.call(t,n)||e(n);for(r=c.length;n=c[--r];i.call(t,n)&&e(n));}))(t,e)},!u("json-stringify")){var h={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(t,e){return("000000"+(e||0)).slice(-t)},A=function(t){for(var e='"',n=0,r=t.length,o=!a||10<r,i=o&&(a?t.split(""):t);n<r;n++){var c=t.charCodeAt(n);switch(c){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=h[c];break;default:if(c<32){e+="\\u00"+S(2,c.toString(16));break}e+=o?i[n]:t.charAt(n)}}return e+'"'},N=function(t,e,n,r,o,i,c){var a,s,u,f,l,p,d,g,h,y,m,v,b,x,_,w;try{a=e[t]}catch(P){}if("object"==typeof a&&a)if("[object Date]"!=(s=I.call(a))||k.call(a,"toJSON"))"function"==typeof a.toJSON&&("[object Number]"!=s&&"[object String]"!=s&&"[object Array]"!=s||k.call(a,"toJSON"))&&(a=a.toJSON(t));else if(-1/0<a&&a<1/0){if(T){for(l=j(a/864e5),u=j(l/365.2425)+1970-1;T(u+1,0)<=l;u++);for(f=j((l-T(u,0))/30.42);T(u,f+1)<=l;f++);l=1+l-T(u,f),d=j((p=(a%864e5+864e5)%864e5)/36e5)%24,g=j(p/6e4)%60,h=j(p/1e3)%60,y=p%1e3}else u=a.getUTCFullYear(),f=a.getUTCMonth(),l=a.getUTCDate(),d=a.getUTCHours(),g=a.getUTCMinutes(),h=a.getUTCSeconds(),y=a.getUTCMilliseconds();a=(u<=0||1e4<=u?(u<0?"-":"+")+S(6,u<0?-u:u):S(4,u))+"-"+S(2,f+1)+"-"+S(2,l)+"T"+S(2,d)+":"+S(2,g)+":"+S(2,h)+"."+S(3,y)+"Z"}else a=null;if(n&&(a=n.call(e,t,a)),null===a)return"null";if("[object Boolean]"==(s=I.call(a)))return""+a;if("[object Number]"==s)return-1/0<a&&a<1/0?""+a:"null";if("[object String]"==s)return A(""+a);if("object"==typeof a){for(x=c.length;x--;)if(c[x]===a)throw E();if(c.push(a),m=[],_=i,i+=o,"[object Array]"==s){for(b=0,x=a.length;b<x;b++)v=N(b,a,n,r,o,i,c),m.push(v===C?"null":v);w=m.length?o?"[\n"+i+m.join(",\n"+i)+"\n"+_+"]":"["+m.join(",")+"]":"[]"}else O(r||a,function(t){var e=N(t,a,n,r,o,i,c);e!==C&&m.push(A(t)+":"+(o?" ":"")+e)}),w=m.length?o?"{\n"+i+m.join(",\n"+i)+"\n"+_+"}":"{"+m.join(",")+"}":"{}";return c.pop(),w}};s.stringify=function(t,e,n){var r,o,i,c;if($[typeof e]&&e)if("[object Function]"==(c=I.call(e)))o=e;else if("[object Array]"==c){i={};for(var a,s=0,u=e.length;s<u;a=e[s++],("[object String]"==(c=I.call(a))||"[object Number]"==c)&&(i[a]=1));}if(n)if("[object Number]"==(c=I.call(n))){if(0<(n-=n%1))for(r="",10<n&&(n=10);r.length<n;r+=" ");}else"[object String]"==c&&(r=n.length<=10?n:n.slice(0,10));return N("",((a={})[""]=t,a),o,i,r,"",[])}}if(!u("json-parse")){var y,m,v=l.fromCharCode,b={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},x=function(){throw y=m=null,n()},c=function(){for(var t,e,n,r,o,i=m,c=i.length;y<c;)switch(o=i.charCodeAt(y)){case 9:case 10:case 13:case 32:y++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=a?i.charAt(y):i[y],y++,t;case 34:for(t="@",y++;y<c;)if((o=i.charCodeAt(y))<32)x();else if(92==o)switch(o=i.charCodeAt(++y)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=b[o],y++;break;case 117:for(e=++y,n=y+4;y<n;y++)48<=(o=i.charCodeAt(y))&&o<=57||97<=o&&o<=102||65<=o&&o<=70||x();t+=v("0x"+i.slice(e,y));break;default:x()}else{if(34==o)break;for(o=i.charCodeAt(y),e=y;32<=o&&92!=o&&34!=o;)o=i.charCodeAt(++y);t+=i.slice(e,y)}if(34==i.charCodeAt(y))return y++,t;x();default:if(e=y,45==o&&(r=!0,o=i.charCodeAt(++y)),48<=o&&o<=57){for(48==o&&48<=(o=i.charCodeAt(y+1))&&o<=57&&x(),r=!1;y<c&&48<=(o=i.charCodeAt(y))&&o<=57;y++);if(46==i.charCodeAt(y)){for(n=++y;n<c&&48<=(o=i.charCodeAt(n))&&o<=57;n++);n==y&&x(),y=n}if(101==(o=i.charCodeAt(y))||69==o){for(43!=(o=i.charCodeAt(++y))&&45!=o||y++,n=y;n<c&&48<=(o=i.charCodeAt(n))&&o<=57;n++);n==y&&x(),y=n}return+i.slice(e,y)}if(r&&x(),"true"==i.slice(y,y+4))return y+=4,!0;if("false"==i.slice(y,y+5))return y+=5,!1;if("null"==i.slice(y,y+4))return y+=4,null;x()}return"$"},_=function(t){var e,n;if("$"==t&&x(),"string"==typeof t){if("@"==(a?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=c());n||(n=!0))n&&(","==t?"]"==(t=c())&&x():x()),","==t&&x(),e.push(_(t));return e}if("{"==t){for(e={};"}"!=(t=c());n||(n=!0))n&&(","==t?"}"==(t=c())&&x():x()),","!=t&&"string"==typeof t&&"@"==(a?t.charAt(0):t[0])&&":"==c()||x(),e[t.slice(1)]=_(c());return e}x()}return t},w=function(t,e,n){var r=R(t,e,n);r===C?delete t[e]:t[e]=r},R=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if("[object Array]"==I.call(o))for(r=o.length;r--;)w(o,r,n);else O(o,function(t){w(o,t,n)});return n.call(t,e,o)};s.parse=function(t,e){var n,r;return y=0,m=""+t,n=_(c()),"$"!=c()&&x(),y=m=null,e&&"[object Function]"==I.call(e)?R(((r={})[""]=n,r),"",e):n}}}return s.runInContext=D,s}var t=f(52),$={"function":!0,object:!0},e=$[typeof u]&&u&&!u.nodeType&&u,L=$[typeof m]&&m||this,n=e&&$[typeof a]&&a&&!a.nodeType&&"object"==typeof s&&s;if(!n||n.global!==n&&n.window!==n&&n.self!==n||(L=n),e&&!t)D(L,e);else{var r=L.JSON,o=L.JSON3,i=!1,c=D(L,L.JSON3={noConflict:function(){return i||(i=!0,L.JSON=r,L.JSON3=o,r=o=null),c}});L.JSON={parse:c.parse,stringify:c.stringify}}t&&(l=function(){return c}.call(u,f,u,a))!==undefined&&(a.exports=l)}).call(this)}).call(u,f(51)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(t,e){var l=String.fromCharCode,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=function d(t){var e,n,r,o,i,c,a,s="",u=0;for(t=function f(t){for(var e,n="",r=0;r<t.length;)e=t.charCodeAt(r++),n+=e<128?l(e):127<e&&e<2048?l(e>>6|192)+l(63&e|128):l(e>>12|224)+l(e>>6&63|128)+l(63&e|128);return n}(t);u<t.length;)e=t.charCodeAt(u++),n=t.charCodeAt(u++),r=t.charCodeAt(u++),o=e>>2,i=(3&e)<<4|n>>4,c=isNaN(n)?64:(15&n)<<2|r>>6,a=isNaN(n)||isNaN(r)?64:63&r,s=s+p.charAt(o)+p.charAt(i)+p.charAt(c)+p.charAt(a);return s}},function(t,n,e){var r=e(8),o=e(3).invariant;n.DEFAULT_CONFIG={database:"",development:!1,globalIdCookie:"_td_global",host:"in.treasuredata.com",logging:!0,pathname:"/js/v3/event/",requestType:"jsonp"},n.configure=function(t){return this.client=r.assign({globals:{}},n.DEFAULT_CONFIG,t,{requestType:"jsonp"}),function e(t){o(r.isObject(t),"Check out our JavaScript SDK Usage Guide: http://docs.treasuredata.com/articles/javascript-sdk"),o(r.isString(t.writeKey),"Must provide a writeKey"),o(r.isString(t.database),"Must provide a database"),o(/^[a-z0-9_]{3,255}$/.test(t.database),"Database must be between 3 and 255 characters and must consist only of lower case letters, numbers, and _")}(this.client),this.client.endpoint||(this.client.endpoint="https://"+this.client.host+this.client.pathname),this},n.set=function(t,e,n){return r.isObject(t)&&(e=t,t="$global"),this.client.globals[t]=this.client.globals[t]||{},r.isObject(e)?r.assign(this.client.globals[t],e):this.client.globals[t][e]=n,this},n.get=function(t,e){return t=t||"$global",this.client.globals[t]=this.client.globals[t]||{},e?this.client.globals[t][e]:this.client.globals[t]}},function(t,e){t.exports="1.9.1"},function(t,e){var a=function(t){try{return encodeURIComponent(t)}catch(e){console.error("error encode %o")}return null},n=function(t){try{return decodeURIComponent(t)}catch(e){console.error("error decode %o")}return null},r={getItem:function(t){return t&&n(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+a(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,n,r,o,i){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var c="";if(n)switch(n.constructor){case Number:c=n===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:c="; expires="+n;break;case Date:c="; expires="+n.toUTCString()}return document.cookie=[a(t),"=",a(e),c,o?"; domain="+o:"",r?"; path="+r:"",i?"; secure":""].join(""),!0},removeItem:function(t,e,n){return!!this.hasItem(t)&&(document.cookie=[a(t),"=; expires=Thu, 01 Jan 1970 00:00:00 GMT",n?"; domain="+n:"",e?"; path="+e:""].join(""),!0)},hasItem:function(t){return!!t&&new RegExp("(?:^|;\\s*)"+a(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var t=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/);return t.map(function(t){return n(t)})}};t.exports=r},function(t,e,n){t.exports=function(e){function t(t){for(a=1;t=r.shift();)t()}var n,r=[],o=document,i=o.documentElement,c=i.doScroll,a=(c?/^loaded|^c/:/^loaded|c/).test(o.readyState);return o.addEventListener&&o.addEventListener("DOMContentLoaded",n=function(){o.removeEventListener("DOMContentLoaded",n,!1),t()},!1),c&&o.attachEvent("onreadystatechange",n=function(){/^c/.test(o.readyState)&&(o.detachEvent("onreadystatechange",n),t())}),e=c?function(t){self!=top?a?t():r.push(t):function(){try{i.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(t){a?t():r.push(t)}}()},function(t,e,n){function r(t,e){return e}var s=n(59),u=n(60),f=n(8).assign,l=n(3).disposable;t.exports={configure:function o(){this._clickTrackingInstalled=!1},trackClicks:function p(t){if(!this._clickTrackingInstalled){var o=this,i=f({element:s.document,extendClickData:r,ignoreAttribute:"td-ignore"},t),c=u.createTreeHasIgnoreAttribute(i.ignoreAttribute),e=u.addEventListener(i.element,"click",function a(t){var e=u.findElement(u.getEventTarget(t));if(e&&!c(e)){var n=u.getElementData(e),r=i.extendClickData(t,n);r&&o.trackEvent("clicks",r)}});return o._clickTrackingInstalled=!0,l(function(){e(),o._clickTrackingInstalled=!1})}}}},function(e,t){(function(t){void 0!==m?e.exports=m:void 0!==t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(t,function(){return this}())},function(t,e,n){function r(t){for(var e,n=[],r=0,o=0,i=" > ".length;t&&r++<5&&!("html"===(e=c(t))||1<r&&80<=o+n.length*i+e.length);)n.push(e),o+=e.length,t=t.parentNode;return n.reverse().join(" > ")}function c(t){var e,n,r,o,i,c=[];if(!t||!t.tagName)return"";if(c.push(t.tagName.toLowerCase()),t.id&&c.push("#"+t.id),(e=t.className)&&s(e))for(n=e.split(" "),i=0;i<n.length;i++)c.push("."+n[i]);var a=["type","name","title","alt"];for(i=0;i<a.length;i++)r=a[i],(o=t.getAttribute(r))&&c.push("["+r+'="'+o+'"]');return c.join("")}function o(t,e){return"function"==typeof t.hasAttribute?t.hasAttribute(e):null!==t.getAttribute(e)}var i=n(8).forEach,s=n(8).isString,a=n(3).disposable;t.exports={addEventListener:function u(e,t,n){function r(t){n.call(e,t||m.event)}if(e.addEventListener)return e.addEventListener(t,r,!1),a(function(){e.removeEventListener(t,r,!1)});if(e.attachEvent)return e.attachEvent("on"+t,r),a(function(){e.detachEvent("on"+t,r)});throw new Error("addEventListener")},createTreeHasIgnoreAttribute:function f(e){var n="data-"+e;return function r(t){return!(!t||!t.tagName||"html"===t.tagName.toLowerCase())&&(!(!o(t,e)&&!o(t,n))||r(t.parentNode))}},getElementData:function l(e){var n={tag:e.tagName.toLowerCase(),tree:r(e)};return i(["alt","class","href","id","name","role","title","type"],function(t){o(e,t)&&(n[t]=e.getAttribute(t))}),n},getEventTarget:function p(t){var e=t.target||t.srcElement||m.document;return 3===e.nodeType?e.parentNode:e},hasAttribute:o,htmlElementAsString:c,htmlTreeAsString:r,findElement:function d(t){if(!t||!t.tagName)return null;for(var e=t.tagName.toLowerCase();e&&"body"!==e;e=(t=t.parentNode)&&t.tagName&&t.tagName.toLowerCase()){var n=t.getAttribute("type");if("input"===e&&"password"===n)return null;var r=t.getAttribute("role");if("button"===r||"link"===r||"a"===e||"button"===e||"input"===e)return t}return null}}},function(t,e,n){function c(t,e){return f.setItem(e,t.global_id,6e3),t.global_id}var a=n(4),s=n(3).invariant,u=n(3).noop,f=n(56);t.exports={cacheSuccess:c,configure:function r(){},fetchGlobalID:function l(n,r,t){n=n||u,r=r||u;var o=this.client.globalIdCookie,e=f.getItem(this.client.globalIdCookie);if(e&&!t)return setTimeout(function(){n(e)},0);var i="https://"+this.client.host+"/js/v3/global_id";s("jsonp"===this.client.requestType,"Request type "+this.client.requestType+" not supported"),a(i,{prefix:"TreasureJSONPCallback",timeout:1e4},function(t,e){return t?r(t):n(c(e,o))})}}},function(t,e,n){var l=n(4),p=n(3).noop,d=n(3).invariant,g=n(8);t.exports={configure:function r(t){return t=g.isObject(t)?t:{},this.client.cdpHost=t.cdpHost||"cdp.in.treasuredata.com",this},fetchUserSegments:function h(t,n,r){var e=g.isObject(t)&&!g.isArray(t),o=e?t.audienceToken:t,i=e&&t.keys||{};n=n||p,r=r||p,d("string"==typeof o||g.isArray(o),'audienceToken must be a string or array; received "'+o.toString()+'"'),d(g.isObject(i),'keys must be an object; received "'+i+'"');var c=g.isArray(o)?o.join(","):o,a=g.keys(i),s=[];g.forEach(a,function(t){s.push(["key.",t,"=",i[t]].join(""))});var u=s.join("&"),f="https://"+this.client.cdpHost+"/cdp/lookup/collect/segments?version=1&token="+c+(u&&"&"+u);l(f,{prefix:"TreasureJSONPCallback",timeout:1e4},function(t,e){return t?r(t):n(e&&(e.key||e.keys),e&&e.values)})}}},function(t,e,n){function o(t){return f.assign({td_version:function(){return r},td_client_id:function(){return t.uuid},td_charset:function(){return(a.characterSet||a.charset||"-").toLowerCase()},td_language:function(){var t=i.navigator;return(t&&(t.language||t.browserLanguage)||"-").toLowerCase()},td_color:function(){return i.screen?i.screen.colorDepth+"-bit":"-"},td_screen:function(){return i.screen?i.screen.width+"x"+i.screen.height:"-"},td_viewport:function(){var t=a.documentElement&&a.documentElement.clientHeight,e=a.documentElement&&a.documentElement.clientWidth,n=i.innerHeight,r=i.innerWidth;return(e<r?r:e)+"x"+(t<n?n:t)},td_title:function(){return a.title},td_description:function(){return function o(t){for(var e=(a.head||a.getElementsByTagName("head")[0]).getElementsByTagName("meta"),n=e.length,r=0;r<n;r++)if(e[r].getAttribute("name")===t)return e[r].getAttribute("content").substr(0,8192);return""}("description")},td_url:function(){return a.location&&a.location.href?a.location.href.split("#")[0]:""},td_user_agent:function(){return i.navigator.userAgent},td_platform:function(){return i.navigator.platform},td_host:function(){return a.location.host},td_path:function(){return a.location.pathname},td_referrer:function(){return a.referrer},td_ip:function(){return"td_ip"},td_browser:function(){return"td_browser"},td_browser_version:function(){return"td_browser_version"},td_os:function(){return"td_os"},td_os_version:function(){return"td_os_version"}},t.values)}var i=n(59),f=n(8),l=n(56),c=n(64),r=n(55),a=i.document;e.configure=function(t){t=f.isObject(t)?t:{},this.client.track=t.track=function n(t){return f.assign({pageviews:"pageviews",events:"events",values:{}},t)}(t.track),this.client.storage=t.storage=function r(t){return"none"!==t&&(t=f.isObject(t)?t:{},f.assign({name:"_td",expires:63072e3,domain:a.location.hostname,customDomain:!!t.domain,path:"/"},t))}(t.storage),f.isNumber(t.clientId)?t.clientId=t.clientId.toString():t.clientId&&f.isString(t.clientId)||(t.storage&&t.storage.name&&(t.clientId=l.getItem(t.storage.name)),t.clientId&&"undefined"!==t.clientId||(t.clientId=c())),this.client.track.uuid=t.clientId.replace(/\0/g,"");var e=function(t,e){var n=f.assign({},t),r=t.domain.match(/\d*\.\d*\.\d*\.\d*$/),o="localhost"===t.domain,i=t.customDomain;if(r||o||i)n.domain=o?null:n.domain,l.setItem(t.name,e,n.expires,n.path,n.domain);else{var c=function u(t){for(var e=t.split("."),n=[],r=e.length-1;0<=r;r--)n.push(e.slice(r).join("."));return n}(t.domain),a=c.length,s=0;if(e){for(;s<a;s++)if(n.domain=c[s],l.setItem(t.name,e,n.expires,n.path,n.domain),l.getItem(t.name)===e){t.domain=n.domain;break}}else for(;s<a;s++)l.removeItem(t.name,t.path,c[s])}};return t.storage&&t.storage.expires&&(e(t.storage,undefined),e(t.storage,this.client.track.uuid)),this.client.track.values=f.assign(o(this.client.track),this.client.track.values),this},e.trackEvent=function(t,e,n,r){return t||(t=this.client.track.events),e=f.assign(this.getTrackValues(),e),this.addRecord(t,e,n,r),this},e.trackPageview=function(t,e,n){return t||(t=this.client.track.pageviews),this.trackEvent(t,{},e,n),this},e.getTrackValues=function(){var n={};return f.forIn(this.client.track.values,function(t,e){t&&(n[e]="function"==typeof t?t():t)}),n}},function(t,e,n){var r=n(59);t.exports=function(){var n=(new Date).getTime();return r.performance&&"function"==typeof r.performance.now&&(n+=r.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===t?e:3&e|8).toString(16)})}},function(t,e,n){var o=n(8),i=n(59),c=["init","set","addRecord","fetchGlobalID","trackPageview","trackEvent","trackClicks","fetchUserSegments","ready"];t.exports=function(t,e){if(o.isObject(i[e])){var n=i[e],r=n.clients;o.forIn(t.prototype,function(t,e){n.prototype[e]=t}),o.forEach(r,function(e){o.forEach(c,function(t){!function o(t,e){var n="_"+e;if(t[n]){for(var r=t[n]||[];r.length;)t[e].apply(t,r.shift());delete t[n]}}(e,t)})})}}}]),m[o]=tracking,m[o].logging("get im api"),m[o].property.imid="",query=m[o].property.imApiEndpoint+"?token=11Edm_Tsc8jGM09UZqwoBg&callback=window.___o2u_callback_view_track_func",m[o].loadScript(query,!0);var i=m[o].factoryTdInstance(m[o].property.tdConfig),c={requestTgGlobalId:function(){try{m[o].logging("get td global id"),m[o].property.tdGlobalId="",i.trackPageview("trash_logs",function(){if("function"!=typeof i.fetchGlobalID)return c.requestO2Id(),!0;i.fetchGlobalID(function(t){m[o].property.tdGlobalId=t,c.requestO2Id()},function(){c.failedWaterfall("failed fetch td global id")})})}catch(t){m[o].logging(t)}},requestO2Id:function(){try{m[o].logging("get o2u id"),m[o].property.o2id="";try{document.title.replace(/^\s+|\s+$/g,"")}catch(e){}try{m.navigator.userAgent}catch(e){}var t=location.protocol+"//"+m[o].property.domain+"/nba/?id="+m[o].property.id+"&o2Id="+m[o].getCookie(m[o].constant.COOKIE_KEY_O2_ID)+"&o3Id="+m[o].property.o3id+"&tdGlobalId="+m[o].property.tdGlobalId+"&tdClientId="+m[o].getCookie(m[o].constant.COOKIE_KEY_TD_CLIENT_ID);m[o].execGetRequest(t,function(t){try{if("200"!=t.status&&""==t.text)throw new Error("Invalid response data");if("undefined"==typeof(t=m[o].convertStringToObject(t.text)).usercard)throw new Error("failed get $usercard");if("object"!=typeof t.usercard)throw new Error("$usercard is not object");if("undefined"==typeof t.usercard[m[o].constant.RESPONSE_KEY_O2_ID])throw new Error("failed get $usercard.o2id");if("string"!=typeof t.usercard[m[o].constant.RESPONSE_KEY_O2_ID])throw new Error("$usercard.o2id is not string");return m[o].property.o2id=t.usercard[m[o].constant.RESPONSE_KEY_O2_ID],m[o].setCookie(m[o].constant.COOKIE_KEY_O2_ID,m[o].property.o2id,"","/",m[o].constant.COOKIE_KEY_O2_ID_LIFETIME,""),void c.sendViewTrackingLog()}catch(e){m[o].logging(e)}})}catch(e){m[o].logging(e)}},sendViewTrackingLog:function(){try{m[o].logging("execute send view tracking log");for(var t={o2id:m[o].property.o2id,imid:m[o].property.imid,segment_eids:m[o].property.segment_eids},e=Object.keys(m[o].property.customParameter),n=0;n<e.length;n++)t[e[n]]=m[o].property.customParameter[e[n]];i.set(m[o].property.tdConfig.tdTable,t),i.trackPageview(m[o].property.tdConfig.tdTable,c.successWaterfall)}catch(r){m[o].logging(r)}},successWaterfall:function(){try{if(m[o].logging("success waterfall process"),"undefined"==typeof m[o].property.scriptName||""==m[o].property.scriptName)return!0;var t=location.protocol+"//"+m[o].property.domain+"/cs/?id="+m[o].property.id;m[o].loadScript(t,!0)}catch(e){m[o].logging(e)}}},a="undefined"!=typeof m[o].property.imid&&""!=m[o].property.imid?0:m[o].constant.WAIT_TIME_API_RESPONSE;setTimeout(c.requestTgGlobalId,a)}catch(s){return}}(window,"___o2u_v__100_A5YTF0OpfIZQ15mNUTWMjnIoDLx1i9+D","a.o2u.jp","A5YTF0OpfIZQ15mNUTWMjnIoDLx1i9+D","{'optout':'','site':{'id':'juicer_o2u_____100','siteId':'100','clientId':'juicer_o2u','tdHost':'in.treasuredata.com','tdDatabase':'o2u_tag_logs','tdTable':'collaboration_logs_view','tdApikey':'4433/ab3dc4c32389c5369a71af91b9a06eb8540bb7db','scriptName':'juicer_o2u_collaboration_logs_view','tagType':'tracking','resposneStyle':''},'customParameter':{'cookieid':'srn:smooothieapi:usercard:juicer:442fb790-b98e-4bfe-9933-605375f434e1'},'o3Id':'98bdc7ad-95d3-401e-941e-9b54437af379','imApiEndpoint':'//sync.im-apps.net/imid/segment'}"),window.___o2u_callback_view_track_func=function(t){try{var e="___o2u_v__100_A5YTF0OpfIZQ15mNUTWMjnIoDLx1i9+D";return window[e].property.imid="undefined"!=typeof t.imid?t.imid:"",window[e].property.segment_eids="undefined"!=typeof t.segment_eids?t.segment_eids:"",!0}catch(n){return!1}};